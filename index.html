import { Analytics } from "@vercel/analytics/next"<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Portal</title>

<style>
  body {
    margin: 0;
    background: #0d0d0d;
    color: white;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Arial, sans-serif;
  }

  .container {
    text-align: center;
    width: 90%;
    max-width: 900px;
    animation: fadeIn 0.9s ease;
  }

  h1 {
    font-size: 36px;
    margin-bottom: 15px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
    margin-top: 25px;
  }

  .card {
    background: #1b1b1b;
    padding: 20px;
    border-radius: 12px;
    transition: 0.3s;
    cursor: pointer;
    border: 1px solid #222;
  }

  .card:hover {
    transform: scale(1.05);
    background: #222;
  }

  .card img {
    width: 100%;
    border-radius: 8px;
  }

  .btn {
    margin-top: 25px;
    padding: 12px 25px;
    background: #007BFF;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    color: white;
    cursor: pointer;
    transition: 0.3s;
  }

  .btn:hover {
    background: #005ae1;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>

<div class="container">
  <h1>Choose Your Game</h1>
  <p>New users get a new random game every time. Played games won't repeat until you've tried all!</p>

  <div class="grid">
    <div class="card" onclick="goTo('devil.html')">
      <img src="https://via.placeholder.com/200x120/550000/ffffff?text=Devil+Game">
      <p>Devil Game</p>
    </div>

    <div class="card" onclick="goTo('flips.html')">
      <img src="https://via.placeholder.com/200x120/005555/ffffff?text=Flips+Game">
      <p>Flips</p>
    </div>

    <div class="card" onclick="goTo('dinosaur.html')">
      <img src="https://via.placeholder.com/200x120/225500/ffffff?text=Dinosaur">
      <p>Dinosaur Run</p>
    </div>

    <div class="card" onclick="goTo('magic.html')">
      <img src="https://via.placeholder.com/200x120/330055/ffffff?text=Magic+Game">
      <p>Magic Moves</p>
    </div>
  </div>

  <button class="btn" onclick="randomGame()">ðŸŽ² Surprise Me</button>
</div>


<script>
// AVAILABLE GAMES
const games = ["devil.html", "flips.html", "dinosaur.html", "magic.html"];

// Get played list or create empty array
let played = JSON.parse(localStorage.getItem("played_games")) || [];

// Redirect function
function goTo(game) {
  if (!played.includes(game)) played.push(game);
  localStorage.setItem("played_games", JSON.stringify(played));
  window.location.href = game;
}

// Smart Random Game
function randomGame() {
  let remaining = games.filter(g => !played.includes(g));

  // If all games are played -> reset
  if (remaining.length === 0) {
    played = [];
    localStorage.setItem("played_games", JSON.stringify([]));
    remaining = [...games];
  }

  // Pick a random game
  const selected = remaining[Math.floor(Math.random() * remaining.length)];
  goTo(selected);
}

// Automatic redirect for new users (after 3 sec)
setTimeout(() => {
  randomGame();
}, 3000);

</script>

</body>
</html>
